<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CS336/CS436: Assignment 2</title>
<link href="../doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>
<h1>Assignment 2: Sampling-based Motion Planning</h1>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_6e35b7075be629e3d20407cd125d42c3.html">src</a>
  </div>
</div>
<div class="contents">
<h1>Simulator.hpp</h1><a href="Simulator_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef SIMULATOR_HPP_</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define SIMULATOR_HPP_</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="Utils_8hpp.html" title="General utilities.">Utils.hpp</a>"</span>
<a name="l00011"></a>00011 
<a name="l00036"></a><a class="code" href="classSimulator.html">00036</a> <span class="keyword">class </span><a class="code" href="classSimulator.html" title="Problem information.">Simulator</a>
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038 <span class="keyword">public</span>:    
<a name="l00043"></a>00043     <a class="code" href="classSimulator.html#2eb4c768d9017e0c8fa2db7be6978131" title="Initialize variables.">Simulator</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> fname[]);
<a name="l00044"></a>00044     
<a name="l00048"></a>00048     <a class="code" href="classSimulator.html#39483d076c375dcf4cb826d828abd530" title="Delete allocated memory.">~Simulator</a>(<span class="keywordtype">void</span>);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 
<a name="l00058"></a><a class="code" href="classSimulator.html#c47f6f2d3794ee0bcd1acdf63354e413">00058</a>     <span class="keywordtype">int</span> <a class="code" href="classSimulator.html#c47f6f2d3794ee0bcd1acdf63354e413" title="Get number of obstacles.">GetNrObstacles</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00059"></a>00059 <span class="keyword">    </span>{
<a name="l00060"></a>00060         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#ea9398a49d59f91b4e63d7310e67a1e2" title="All the obstacles.">m_obstacles</a>.size();      
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062 
<a name="l00066"></a><a class="code" href="classSimulator.html#f1191f6e246b90a256a4813ef4c94d22">00066</a>     <span class="keywordtype">int</span> <a class="code" href="classSimulator.html#f1191f6e246b90a256a4813ef4c94d22" title="Get number of vertices of the i-th obstacle.">GetObstacleNrVertices</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00067"></a>00067 <span class="keyword">    </span>{
<a name="l00068"></a>00068         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#ea9398a49d59f91b4e63d7310e67a1e2" title="All the obstacles.">m_obstacles</a>[i]-&gt;m_vertices.size() / 2;   
<a name="l00069"></a>00069     }
<a name="l00070"></a>00070 
<a name="l00090"></a><a class="code" href="classSimulator.html#d424d4ed2fddbeeda12532aa6b7734e0">00090</a>     <span class="keyword">const</span> <span class="keywordtype">double</span>* <a class="code" href="classSimulator.html#d424d4ed2fddbeeda12532aa6b7734e0" title="Get vertices of the i-th obstacle.">GetObstacleVertices</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00091"></a>00091 <span class="keyword">    </span>{
<a name="l00092"></a>00092         <span class="keywordflow">return</span> &amp;(<a class="code" href="classSimulator.html#ea9398a49d59f91b4e63d7310e67a1e2" title="All the obstacles.">m_obstacles</a>[i]-&gt;m_vertices[0]);
<a name="l00093"></a>00093     }
<a name="l00094"></a>00094 
<a name="l00106"></a><a class="code" href="classSimulator.html#16c5b89bfb62677e6d8ff8156709e9ef">00106</a>     <span class="keywordtype">int</span> <a class="code" href="classSimulator.html#16c5b89bfb62677e6d8ff8156709e9ef" title="Get number of reward regions.">GetNrRewardRegions</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00107"></a>00107 <span class="keyword">    </span>{
<a name="l00108"></a>00108         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>.size();        
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110 
<a name="l00115"></a><a class="code" href="classSimulator.html#b9ea2ffa2441c649ee918941b02186da">00115</a>     <span class="keywordtype">int</span> <a class="code" href="classSimulator.html#b9ea2ffa2441c649ee918941b02186da" title="Get reward value of the i-th reward region.">GetRewardRegionValue</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00116"></a>00116 <span class="keyword">    </span>{
<a name="l00117"></a>00117         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>[i]-&gt;m_value;   
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00124"></a><a class="code" href="classSimulator.html#6cd23f5155a836e528ed21a73c65a576">00124</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#6cd23f5155a836e528ed21a73c65a576" title="Get x-coordinate of the center of the i-th reward region (which is a circle).">GetRewardRegionCenterX</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00125"></a>00125 <span class="keyword">    </span>{
<a name="l00126"></a>00126         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>[i]-&gt;m_centerX; 
<a name="l00127"></a>00127     }
<a name="l00128"></a>00128 
<a name="l00133"></a><a class="code" href="classSimulator.html#506af692020f294983af67f942950172">00133</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#506af692020f294983af67f942950172" title="Get y-coordinate of the center of the i-th reward region (which is a circle).">GetRewardRegionCenterY</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00134"></a>00134 <span class="keyword">    </span>{
<a name="l00135"></a>00135         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>[i]-&gt;m_centerY; 
<a name="l00136"></a>00136     }
<a name="l00137"></a>00137 
<a name="l00142"></a><a class="code" href="classSimulator.html#0439634d499cb8879b3885345e1cc458">00142</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#0439634d499cb8879b3885345e1cc458" title="Get radius of the i-th reward region (which is a circle).">GetRewardRegionRadius</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00143"></a>00143 <span class="keyword">    </span>{
<a name="l00144"></a>00144         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>[i]-&gt;m_radius;  
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146 
<a name="l00159"></a><a class="code" href="classSimulator.html#1056480c9a13fa11aa4b13c493788d62">00159</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#1056480c9a13fa11aa4b13c493788d62" title="Get robot length (robot is a rectangle).">GetRobotLength</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00160"></a>00160 <span class="keyword">    </span>{
<a name="l00161"></a>00161         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#2fccace55f7fe161c6df26aaee1fad31" title="Robot information: robot is a rectangle.">m_robotLength</a>;
<a name="l00162"></a>00162     }
<a name="l00163"></a>00163     
<a name="l00167"></a><a class="code" href="classSimulator.html#dbcb7172c4f365d2c5cda2f3e6cb54fe">00167</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#dbcb7172c4f365d2c5cda2f3e6cb54fe" title="Get robot width (robot is a rectangle).">GetRobotWidth</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00168"></a>00168 <span class="keyword">    </span>{
<a name="l00169"></a>00169         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#eb2884db2356d78b2f3e6fa58896700b">m_robotWidth</a>;
<a name="l00170"></a>00170     }
<a name="l00171"></a>00171     
<a name="l00175"></a><a class="code" href="classSimulator.html#eb6a18be22ce57d1ef83c31a35b412ce">00175</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#eb6a18be22ce57d1ef83c31a35b412ce" title="Get x-coordinate of robot&amp;#39;s center.">GetRobotCenterX</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00176"></a>00176 <span class="keyword">    </span>{
<a name="l00177"></a>00177         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#e84c8e0966e3a84d73e84294c8ad2e1c">m_robotCenterX</a>;
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179     
<a name="l00183"></a><a class="code" href="classSimulator.html#e0a3e75f49ca08523f117be0b245799b">00183</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#e0a3e75f49ca08523f117be0b245799b" title="Get y-coordinate of robot&amp;#39;s center.">GetRobotCenterY</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00184"></a>00184 <span class="keyword">    </span>{
<a name="l00185"></a>00185         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#adcf9e231e59b16595e386c229be3267">m_robotCenterY</a>;
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187     
<a name="l00191"></a><a class="code" href="classSimulator.html#82056756013854793640a57134364d2d">00191</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#82056756013854793640a57134364d2d" title="Get robot&amp;#39;s counterclockwise orientation with respect to x-axis.">GetRobotAngleInRadians</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00192"></a>00192 <span class="keyword">    </span>{
<a name="l00193"></a>00193         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#82a0be3c2abc0c36ca426f2a31c2e09c">m_robotAngle</a>;
<a name="l00194"></a>00194     }
<a name="l00195"></a>00195 
<a name="l00211"></a>00211     <span class="keywordtype">void</span> <a class="code" href="classSimulator.html#bac53d1695a8d830ed8a873955dcdd73" title="Set robot orientation and position.">SetRobotOrientationAndPosition</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> theta, <span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y);
<a name="l00212"></a>00212     
<a name="l00216"></a>00216     <span class="keywordtype">bool</span> <a class="code" href="classSimulator.html#7fe58bcbc487d808dac69f9b54cda2a7" title="Return true iff the robot in its current placement is in collision with an obstacle...">IsRobotInCollision</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00217"></a>00217 
<a name="l00224"></a>00224     <span class="keywordtype">bool</span> <a class="code" href="classSimulator.html#4b23e8dc1657767d562d1b43edb64841" title="Return true iff the robot center is inside the i-th reward region.">IsRobotCenterInsideRewardRegion</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l00225"></a>00225 
<a name="l00232"></a>00232     <span class="keywordtype">bool</span> <a class="code" href="classSimulator.html#d545379c8cefd937377d792517ef78a7" title="Return true iff the point (x, y) is inside the i-th reward region.">IsPointInsideRewardRegion</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y, <span class="keyword">const</span> <span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l00233"></a>00233     
<a name="l00234"></a>00234     
<a name="l00246"></a><a class="code" href="classSimulator.html#b841a70ba61ed56f9851455dd283f452">00246</a>     <span class="keyword">const</span> <span class="keywordtype">double</span>* <a class="code" href="classSimulator.html#b841a70ba61ed56f9851455dd283f452" title="Get minimum (x, y) coordinates of bounding box.">GetBoundingBoxMin</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00247"></a>00247 <span class="keyword">    </span>{
<a name="l00248"></a>00248         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#01090b5d27e7c3a17e05624778c02d99" title="Bounding box: minimum and maximum scene values.">m_min</a>;
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250     
<a name="l00254"></a><a class="code" href="classSimulator.html#f2297b6fabfc33bc2ca082a2610c267d">00254</a>     <span class="keyword">const</span> <span class="keywordtype">double</span>* <a class="code" href="classSimulator.html#f2297b6fabfc33bc2ca082a2610c267d" title="Get maximum (x, y) coordinates of bounding box.">GetBoundingBoxMax</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00255"></a>00255 <span class="keyword">    </span>{
<a name="l00256"></a>00256         <span class="keywordflow">return</span> <a class="code" href="classSimulator.html#252f276111b6393ff6636ee5280712d8">m_max</a>;   
<a name="l00257"></a>00257     }
<a name="l00258"></a>00258     
<a name="l00259"></a>00259 
<a name="l00265"></a>00265 <span class="keyword">protected</span>:
<a name="l00271"></a>00271     <span class="keywordtype">void</span> <a class="code" href="classSimulator.html#6e611dcaa2c5bb66d083720c2fe02dba" title="Read polygonal obstacles and reward regions from input file.">SetupFromFile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> fname[]);
<a name="l00272"></a>00272     
<a name="l00276"></a><a class="code" href="structSimulator_1_1Obstacle.html">00276</a>     <span class="keyword">struct </span><a class="code" href="structSimulator_1_1Obstacle.html" title="Obstacles: each obstacle corresponds to a polygon.">Obstacle</a>
<a name="l00277"></a>00277     {
<a name="l00278"></a><a class="code" href="structSimulator_1_1Obstacle.html#79cc627d25a1d19635e1c2e4c2f4ddc6">00278</a>         std::vector&lt;double&gt; <a class="code" href="structSimulator_1_1Obstacle.html#79cc627d25a1d19635e1c2e4c2f4ddc6">m_vertices</a>;
<a name="l00279"></a><a class="code" href="structSimulator_1_1Obstacle.html#5912ac91f1dec4ea6ddb63e86c281172">00279</a>         std::vector&lt;int&gt;    <a class="code" href="structSimulator_1_1Obstacle.html#5912ac91f1dec4ea6ddb63e86c281172">m_triangles</a>;
<a name="l00280"></a>00280     };
<a name="l00281"></a>00281 
<a name="l00286"></a><a class="code" href="structSimulator_1_1RewardRegion.html">00286</a>     <span class="keyword">struct </span><a class="code" href="structSimulator_1_1RewardRegion.html" title="Reward regions: each reward region corresponds to a circle; there is also a reward...">RewardRegion</a>
<a name="l00287"></a>00287     {
<a name="l00288"></a><a class="code" href="structSimulator_1_1RewardRegion.html#2c40d7a5fc4b83b9ab8222966ba45db7">00288</a>         <span class="keywordtype">int</span>    <a class="code" href="structSimulator_1_1RewardRegion.html#2c40d7a5fc4b83b9ab8222966ba45db7">m_value</a>; 
<a name="l00289"></a><a class="code" href="structSimulator_1_1RewardRegion.html#10f6700eabcadd6782bb0df9eabec950">00289</a>         <span class="keywordtype">double</span> <a class="code" href="structSimulator_1_1RewardRegion.html#10f6700eabcadd6782bb0df9eabec950">m_centerX</a>;
<a name="l00290"></a><a class="code" href="structSimulator_1_1RewardRegion.html#d8d4a256ced142f5d20f465f98ea6001">00290</a>         <span class="keywordtype">double</span> <a class="code" href="structSimulator_1_1RewardRegion.html#d8d4a256ced142f5d20f465f98ea6001">m_centerY</a>;
<a name="l00291"></a><a class="code" href="structSimulator_1_1RewardRegion.html#f05a4eea3ba8a1b712c37347d93ffe15">00291</a>         <span class="keywordtype">double</span> <a class="code" href="structSimulator_1_1RewardRegion.html#f05a4eea3ba8a1b712c37347d93ffe15">m_radius</a>;        
<a name="l00292"></a>00292     };
<a name="l00293"></a>00293     
<a name="l00297"></a><a class="code" href="classSimulator.html#ea9398a49d59f91b4e63d7310e67a1e2">00297</a>     std::vector&lt;Obstacle *&gt;  <a class="code" href="classSimulator.html#ea9398a49d59f91b4e63d7310e67a1e2" title="All the obstacles.">m_obstacles</a>;
<a name="l00298"></a>00298 
<a name="l00302"></a><a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa">00302</a>     std::vector&lt;RewardRegion *&gt; <a class="code" href="classSimulator.html#1da05d2d72ecc1dc18e0f4003e2768fa" title="All the reward regions.">m_rewards</a>;
<a name="l00303"></a>00303 
<a name="l00307"></a><a class="code" href="classSimulator.html#2fccace55f7fe161c6df26aaee1fad31">00307</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#2fccace55f7fe161c6df26aaee1fad31" title="Robot information: robot is a rectangle.">m_robotLength</a>;
<a name="l00308"></a><a class="code" href="classSimulator.html#eb2884db2356d78b2f3e6fa58896700b">00308</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#eb2884db2356d78b2f3e6fa58896700b">m_robotWidth</a>;
<a name="l00309"></a><a class="code" href="classSimulator.html#e84c8e0966e3a84d73e84294c8ad2e1c">00309</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#e84c8e0966e3a84d73e84294c8ad2e1c">m_robotCenterX</a>;
<a name="l00310"></a><a class="code" href="classSimulator.html#adcf9e231e59b16595e386c229be3267">00310</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#adcf9e231e59b16595e386c229be3267">m_robotCenterY</a>;
<a name="l00311"></a><a class="code" href="classSimulator.html#82a0be3c2abc0c36ca426f2a31c2e09c">00311</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#82a0be3c2abc0c36ca426f2a31c2e09c">m_robotAngle</a>;    
<a name="l00312"></a><a class="code" href="classSimulator.html#1999602fa7a62d23a6bcdbe128744218">00312</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#1999602fa7a62d23a6bcdbe128744218">m_robotOrig</a>[8];    
<a name="l00313"></a><a class="code" href="classSimulator.html#c0fddf44c63825b9a0314a9329c9c115">00313</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#c0fddf44c63825b9a0314a9329c9c115">m_robotCurr</a>[8];
<a name="l00314"></a>00314 
<a name="l00318"></a><a class="code" href="classSimulator.html#01090b5d27e7c3a17e05624778c02d99">00318</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#01090b5d27e7c3a17e05624778c02d99" title="Bounding box: minimum and maximum scene values.">m_min</a>[2];
<a name="l00319"></a><a class="code" href="classSimulator.html#252f276111b6393ff6636ee5280712d8">00319</a>     <span class="keywordtype">double</span> <a class="code" href="classSimulator.html#252f276111b6393ff6636ee5280712d8">m_max</a>[2];
<a name="l00320"></a>00320 
<a name="l00321"></a><a class="code" href="classSimulator.html#e5cfe0c0e0b06d536d5814bd1ff4818f">00321</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classGraphics.html" title="Graphics for running simulation and setting up problem.">Graphics</a>;
<a name="l00322"></a>00322 };
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <span class="preprocessor">#endif</span>
</pre></div></div>
<div class="footer">
Support code written by <a href="http://www.cs.jhu.edu/~erion">Erion Plaku</a>.
</div>
</body>
</html>
